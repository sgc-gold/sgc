<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>トップページ</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap" rel="stylesheet">
<style>
html, body {
  margin: 0;
  padding: 0rem 1rem 0rem 1rem;
  font-family: 'Noto Sans JP', sans-serif;
  background: #fafafa;
  color: #003D2E;
  box-sizing: border-box;
}

h1 {
  font-size: 1.6rem;
  margin-bottom: 1rem;
  border-bottom: 2px solid #ccc;
  padding-bottom: 0.5rem;
}

h2 {
  font-size: 1.3rem;
  margin-top: 2rem;
  border-left: 4px solid #0077cc;
  padding-left: 0.6rem;
}

p, li {
  line-height: 1.6;
}

ul {
  margin: 0.5rem 0 1rem 1.5rem;
  padding: 0;
}

.note {
  background: #fff3cd;
  color: #856404;
  padding: 0.5rem;
  border-radius: 0.3rem;
  margin-bottom: 1rem;
}

/* ----- アイコンメニュー ----- */
.menu-grid {
  display: flex;
  gap: 1rem;
  margin-top: 1.5rem;
  margin-bottom: 1.5rem;
  justify-content: space-between;
}

.menu-grid a {
  text-decoration: none;
  color: #003D2E;
  flex: 1 1 0;
  min-width: 0;
}

.menu-icon {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: #fff;
  border: 2px solid #003D2E;
  border-radius: 0.5rem;
  padding: 1rem;
  box-shadow: 0 4px 8px rgba(0,0,0,0.08);
  transition: transform 0.2s, box-shadow 0.2s;
}

.menu-icon:hover {
  transform: translateY(-3px);
  box-shadow: 0 6px 12px rgba(0,0,0,0.15);
}

.menu-icon .icon {
  width: 40px;
  height: 40px;
  margin-bottom: 0.5rem;
}

.menu-icon .label {
  font-size: 1rem;
  text-align: center;
  font-weight: 600;
}

@media (max-width: 600px) {
  h1 { font-size: 1.4rem; }
  h2 { font-size: 1.1rem; }
  .menu-icon .icon { width: 30px; height: 30px; }
  .menu-icon { padding: 0.75rem; }
  .menu-icon .label { font-size: 0.9rem; }
}

/* ====== 田中貴金属 高級カード ====== */
.tanaka-section {
  text-align: center;
  margin: 2rem auto;
  max-width: 900px;
  background: linear-gradient(135deg, #fdfcfb, #f4f4f4);
  border-radius: 18px;
  padding: 1.2rem 1rem 1.5rem;
  box-shadow: 0 8px 20px rgba(0,0,0,0.12);
}

.tanaka-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  margin-bottom: 1rem;
}

.tanaka-title {
  font-size: 1.15rem;
  color: #003D2E;
  font-weight: 700;
  letter-spacing: 0.08em;
}

.tanaka-update {
  font-size: 0.85rem;
  color: #555;
  margin-top: 0.3rem;
}

.tanaka-cards {
  display: flex;
  justify-content: center;
  gap: 1rem;
  flex-wrap: wrap;
}

.tanaka-card {
  flex: 1;
  min-width: 130px;
  max-width: 180px;
  background: #fff;
  border-radius: 14px;
  padding: 1rem 0.8rem;
  box-shadow: 0 5px 14px rgba(0,0,0,0.08);
  transition: transform 0.2s, box-shadow 0.2s;
}

.tanaka-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 20px rgba(0,0,0,0.16);
}

.tanaka-card.gold { border-top: 4px solid #c8a200; }
.tanaka-card.platinum { border-top: 4px solid #a0a0a0; }
.tanaka-card.silver { border-top: 4px solid #c0c0c0; }

.metal-name {
  font-size: 0.85rem;
  color: #555;
  font-weight: 600;
  letter-spacing: 0.1em;
}

.metal-buy {
  font-size: 1.4rem;
  font-weight: 700;
  margin: 0.3rem 0;
  color: #003D2E;
}

.metal-diff {
  font-size: 0.9rem;
  font-weight: 600;
}

.metal-diff.positive { color: #c60000; }
.metal-diff.negative { color: #0044cc; }

@media (max-width: 600px) {
  .tanaka-cards {
    gap: 0.6rem;
    justify-content: center;
  }
  .tanaka-card { padding: 0.8rem; min-width: 120px; max-width: 150px; }
  .metal-buy { font-size: 1.2rem; }
  .tanaka-title { font-size: 1rem; }
  .tanaka-update { font-size: 0.8rem; margin-top: 0.2rem; }
}
</style>
</head>
<body>

<!-- ====== 田中貴金属カード表示 ====== -->
<div class="tanaka-section">
  <div class="tanaka-header">
    <h2 class="tanaka-title">田中貴金属公表（9:30価格）</h2>
    <span class="tanaka-update" id="tanaka-update">読み込み中...</span>
  </div>
  <div class="tanaka-cards">
    <div class="tanaka-card gold">
      <div class="metal-name">GOLD</div>
      <div class="metal-buy">¥<span id="gold-buy">--</span></div>
      <div class="metal-diff" id="gold-diff">--</div>
    </div>
    <div class="tanaka-card platinum">
      <div class="metal-name">PLATINUM</div>
      <div class="metal-buy">¥<span id="pt-buy">--</span></div>
      <div class="metal-diff" id="pt-diff">--</div>
    </div>
    <div class="tanaka-card silver">
      <div class="metal-name">SILVER</div>
      <div class="metal-buy">¥<span id="silver-buy">--</span></div>
      <div class="metal-diff" id="silver-diff">--</div>
    </div>
  </div>
</div>

<!-- ----- アイコンメニュー ----- -->
<div class="menu-grid">
  <a href="#" onclick="openFrame(event, 'https://script.google.com/macros/s/AKfycbxV4bMjhApWrwqTBLsuu0BnSQ5L8TyaV40_qCOO_RFjT3-WHvosgeesx_LxWZAO4MFr/exec')">
    <div class="menu-icon">
      <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="#003D2E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
        <line x1="3" y1="9" x2="21" y2="9"/>
        <line x1="9" y1="21" x2="9" y2="9"/>
      </svg>
      <span class="label">IGシリアル照合</span>
    </div>
  </a>

  <a href="#" onclick="openFrame(event, 'coin.html')">
    <div class="menu-icon">
      <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="#003D2E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="10"/>
        <path d="M12 8v8M8 12h8"/>
      </svg>
      <span class="label">記念金貨 買取価格</span>
    </div>
  </a>

  <a href="#" onclick="openFrame(event, '#')">
    <div class="menu-icon">
      <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="#003D2E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M12 2v20M2 12h20"/>
        <rect x="4" y="4" width="16" height="16" rx="2"/>
      </svg>
      <span class="label">買取/分割 確認</span>
    </div>
  </a>
</div>

<div class="note">
  サイドメニューからも各ページにアクセスできます。
</div>

<h1>社内案内</h1>
<p>この社内ポータルは、買取業務を中心とした情報・お知らせを共有するためのページです。</p>

<h2>更新履歴</h2>
<ul>
  <li>2025/10/05　メインフレーム初期表示用ページを作成</li>
</ul>

<script>
function openFrame(e, url){
  e.preventDefault();
  const iframe = parent.document.getElementById('main-frame');
  if(iframe){
    iframe.src = url;
  }
}

/* ----- 田中貴金属JSON読み込み ----- */
fetch("data/tanaka_price.json")
  .then(res => res.json())
  .then(data => {
    const gold = data.prices.GOLD;
    const pt = data.prices.PLATINUM;
    const silver = data.prices.SILVER;

    // 公表時刻
    document.getElementById("tanaka-update").textContent = data.update_time;

    // 9:30の価格
    document.getElementById("gold-buy").textContent = gold.buy.replace(/,/g, "");
    document.getElementById("pt-buy").textContent = pt.buy.replace(/,/g, "");
    document.getElementById("silver-buy").textContent = silver.buy.replace(/,/g, "");

    // 前日比
    const metals = [
      {diff: parseFloat(gold.buy_diff), el: document.getElementById("gold-diff")},
      {diff: parseFloat(pt.buy_diff), el: document.getElementById("pt-diff")},
      {diff: parseFloat(silver.buy_diff), el: document.getElementById("silver-diff")}
    ];

    metals.forEach(m => {
      m.el.textContent = (m.diff >= 0 ? "+" : "") + m.diff + "円";
      m.el.classList.add(m.diff >= 0 ? "positive" : "negative");
    });
  })
  .catch(err => {
    console.error("価格取得エラー:", err);
  });
</script>

</body>
</html>
