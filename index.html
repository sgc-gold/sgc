<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="mobile-web-app-capable" content="yes">
  <link rel="icon" href="https://raw.githubusercontent.com/sgc-gold/sgc/main/image/sgc-icon.png" type="image/png">
  <link rel="apple-touch-icon" href="https://raw.githubusercontent.com/sgc-gold/sgc/main/image/sgc-icon.png">
  <title>SGC ç¤¾å†…ãƒãƒ¼ã‚¿ãƒ«</title>
  <link href="https://fonts.googleapis.com/css2?family=Shippori+Mincho:wght@400;600;700&family=Cormorant+Garamond:ital,wght@0,400;1,400&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">
  <style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  :root {
    --green:    #1A3628;
    --green-lt: #254D38;
    --green-dk: #0E1F17;
    --gold:     #C09A50;
    --gold-lt:  #E8D49A;
    --gold-dk:  #8A6A28;
    --white:    #FFFFFF;
    --border:   rgba(192,154,80,0.18);
    --nav-w:    260px;
    --header-h: 58px;
    --bottom-content-h: 56px;
    --safe-top:    env(safe-area-inset-top,    0px);
    --safe-bottom: env(safe-area-inset-bottom, 0px);
    --safe-left:   env(safe-area-inset-left,   0px);
    --safe-right:  env(safe-area-inset-right,  0px);
  }

  html { height: 100vh; height: 100svh; height: 100dvh; background: var(--green-dk); }
  body { height: 100vh; height: 100svh; height: 100dvh; overflow: hidden; background: var(--green-dk); font-family: 'DM Sans', sans-serif; }

  #shell {
    display: grid;
    grid-template-columns: var(--nav-w) 1fr;
    grid-template-rows: calc(var(--header-h) + var(--safe-top)) 1fr;
    grid-template-areas: "hdr hdr" "side main";
    width: 100%; height: 100vh; height: 100svh; height: 100dvh; overflow: hidden;
  }

  /* â”€â”€â”€ Header â”€â”€â”€ */
  #app-header {
    grid-area: hdr; background: var(--green-dk);
    border-bottom: 1px solid rgba(192,154,80,0.12);
    display: flex; align-items: flex-end;
    padding: var(--safe-top) 16px 0;
    height: calc(var(--header-h) + var(--safe-top));
    gap: 12px; position: relative; z-index: 300;
  }
  #app-header .header-inner { display: flex; align-items: center; gap: 12px; width: 100%; height: var(--header-h); }
  #app-header::after {
    content: ''; position: absolute; bottom: 0; left: 0; right: 0; height: 1px;
    background: linear-gradient(90deg, transparent, var(--gold-dk) 25%, var(--gold) 50%, var(--gold-dk) 75%, transparent);
  }
  .header-logo  { height: 26px; width: auto; opacity: 0.9; flex-shrink: 0; }
  .header-title { flex: 1; font-family: 'Shippori Mincho', serif; font-size: 1.05rem; font-weight: 600; color: var(--white); letter-spacing: 0.1em; cursor: pointer; user-select: none; }
  .header-title:hover { color: var(--gold-lt); }
  .hamburger { display: none; flex-direction: column; gap: 5px; background: none; border: none; cursor: pointer; padding: 6px; border-radius: 8px; flex-shrink: 0; -webkit-tap-highlight-color: transparent; }
  .hamburger span { display: block; width: 22px; height: 2px; background: rgba(255,255,255,0.8); border-radius: 2px; transition: all 0.28s ease; }
  .hamburger.open span:nth-child(1) { transform: translateY(7px) rotate(45deg); }
  .hamburger.open span:nth-child(2) { opacity: 0; }
  .hamburger.open span:nth-child(3) { transform: translateY(-7px) rotate(-45deg); }

  /* â”€â”€â”€ Sidebar â”€â”€â”€ */
  #sidebar { grid-area: side; background: var(--green-dk); border-right: 1px solid rgba(192,154,80,0.1); display: flex; flex-direction: column; overflow: hidden; }
  .sidebar-scroll { flex: 1; overflow-y: auto; overflow-x: hidden; padding: 16px 12px 20px; scrollbar-width: thin; scrollbar-color: rgba(192,154,80,0.18) transparent; -webkit-overflow-scrolling: touch; }
  .sidebar-scroll::-webkit-scrollbar { width: 3px; }
  .sidebar-scroll::-webkit-scrollbar-thumb { background: rgba(192,154,80,0.2); border-radius: 4px; }

  .nav-section-title { font-size: 0.56rem; letter-spacing: 0.25em; text-transform: uppercase; color: rgba(192,154,80,0.45); padding: 14px 8px 5px; display: flex; align-items: center; gap: 8px; }
  .nav-section-title::after { content: ''; flex: 1; height: 1px; background: rgba(192,154,80,0.1); }

  .nav-link { display: flex; align-items: center; gap: 10px; padding: 8px 10px; border-radius: 8px; color: rgba(255,255,255,0.55); font-size: 0.84rem; text-decoration: none; cursor: pointer; transition: background 0.15s, color 0.15s; border: 1px solid transparent; user-select: none; margin-bottom: 1px; -webkit-tap-highlight-color: transparent; }
  .nav-link:hover  { background: rgba(255,255,255,0.05); color: rgba(255,255,255,0.85); }
  .nav-link.active { background: rgba(192,154,80,0.1); color: var(--gold-lt); border-color: rgba(192,154,80,0.16); }
  .nav-link.disabled { opacity: 0.28; pointer-events: none; text-decoration: line-through; }
  .nav-icon { width: 16px; height: 16px; opacity: 0.55; flex-shrink: 0; transition: opacity 0.15s; }
  .nav-link:hover .nav-icon, .nav-link.active .nav-icon { opacity: 0.9; }

  /* â”€â”€ éŠ€åº§åº—å°‚ç”¨ãƒªãƒ³ã‚¯ â”€â”€ */
  .nav-link.ginza {
    border-color: rgba(192,154,80,0.15);
    background: rgba(192,154,80,0.04);
    color: rgba(232,212,154,0.55);
  }
  .nav-link.ginza:hover { background: rgba(192,154,80,0.12); color: var(--gold-lt); }
  .nav-link.ginza.active { background: rgba(192,154,80,0.18); color: var(--gold-lt); border-color: rgba(192,154,80,0.3); }
  .ginza-badge {
    margin-left: auto; flex-shrink: 0;
    font-size: 0.5rem; font-weight: 700; letter-spacing: 0.06em;
    padding: 2px 7px; border-radius: 4px;
    background: rgba(192,154,80,0.18); border: 1px solid rgba(192,154,80,0.25);
    color: var(--gold-lt); white-space: nowrap;
    transition: background 0.2s;
  }

  .sidebar-footer { padding: 10px 14px; border-top: 1px solid rgba(192,154,80,0.08); font-size: 0.6rem; color: rgba(255,255,255,0.18); letter-spacing: 0.06em; font-family: 'Cormorant Garamond', serif; font-style: italic; text-align: center; }

  /* â”€â”€â”€ Content â”€â”€â”€ */
  #content-area { grid-area: main; overflow: hidden; background: #F7F3EB; display: flex; flex-direction: column; padding-left: var(--safe-left); padding-right: var(--safe-right); }
  #main-frame { flex: 1; width: 100%; border: none; display: block; min-height: 0; }

  /* â”€â”€â”€ Overlay â”€â”€â”€ */
  #overlay { display: none; position: fixed; inset: 0; z-index: 250; background: rgba(0,0,0,0.5); backdrop-filter: blur(2px); -webkit-backdrop-filter: blur(2px); }
  #overlay.active { display: block; }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MOBILE
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  @media (max-width: 899px) {
    #shell { grid-template-columns: 1fr; grid-template-rows: calc(var(--header-h) + env(safe-area-inset-top, 0px)) 1fr auto; grid-template-areas: "hdr" "main" "bnav"; }
    .hamburger { display: flex; }
    #sidebar { grid-area: unset; position: fixed; top: calc(var(--header-h) + env(safe-area-inset-top, 0px)); left: 0; width: var(--nav-w); bottom: 0; z-index: 260; transform: translateX(-100%); transition: transform 0.3s cubic-bezier(0.4,0,0.2,1); box-shadow: 4px 0 24px rgba(0,0,0,0.55); }
    #sidebar.open { transform: translateX(0); }
    #bottom-nav { grid-area: bnav; background: var(--green-dk); border-top: 1px solid rgba(192,154,80,0.14); display: flex; align-items: stretch; padding-bottom: env(safe-area-inset-bottom, 0px); padding-left: env(safe-area-inset-left, 0px); padding-right: env(safe-area-inset-right, 0px); position: relative; z-index: 100; min-height: var(--bottom-content-h); }
    .bnav-item { flex: 1; display: flex !important; flex-direction: column; align-items: center; justify-content: center; gap: 3px; color: rgba(255,255,255,0.38); font-size: 0.58rem; letter-spacing: 0.03em; cursor: pointer; border: none; background: none; padding: 8px 2px; min-height: var(--bottom-content-h); text-decoration: none; transition: color 0.15s; -webkit-tap-highlight-color: transparent; }
    .bnav-item.active { color: var(--gold); }
    .bnav-item svg { width: 20px; height: 20px; flex-shrink: 0; display: block; }
    .bnav-item span { display: block; line-height: 1; }
  }
  @media (min-width: 900px) { #bottom-nav { display: none !important; } }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒ¢ãƒ¼ãƒ€ãƒ«
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  #pw-backdrop {
    display: none; position: fixed; inset: 0; z-index: 900;
    background: rgba(8,14,11,0.78);
    backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
    align-items: center; justify-content: center;
    padding: 24px;
  }
  #pw-backdrop.show { display: flex; }

  #pw-modal {
    width: 100%; max-width: 360px;
    background: #0C1C14;
    border: 1px solid rgba(192,154,80,0.22);
    border-radius: 20px;
    box-shadow: 0 32px 80px rgba(0,0,0,0.7), 0 0 0 1px rgba(192,154,80,0.08);
    overflow: hidden;
    animation: pwIn 0.3s cubic-bezier(0.34,1.56,0.64,1) both;
  }
  @keyframes pwIn {
    from { opacity:0; transform: scale(0.85) translateY(24px); }
    to   { opacity:1; transform: scale(1) translateY(0); }
  }
  @keyframes shake {
    0%,100% { transform: translateX(0); }
    20%,60%  { transform: translateX(-9px); }
    40%,80%  { transform: translateX(9px); }
  }

  .pw-top {
    background: linear-gradient(160deg, #091510 0%, #142214 100%);
    padding: 30px 24px 22px;
    text-align: center;
    border-bottom: 1px solid rgba(192,154,80,0.12);
    position: relative;
  }
  .pw-top::after {
    content: ''; position: absolute; bottom: -1px; left: 0; right: 0; height: 1px;
    background: linear-gradient(90deg, transparent, var(--gold-dk) 25%, var(--gold) 50%, var(--gold-dk) 75%, transparent);
  }
  .pw-icon {
    width: 56px; height: 56px; margin: 0 auto 14px;
    background: rgba(192,154,80,0.1); border: 1px solid rgba(192,154,80,0.22);
    border-radius: 16px; display: flex; align-items: center; justify-content: center; font-size: 1.6rem;
  }
  .pw-title { font-family: 'Shippori Mincho', serif; font-size: 1.15rem; font-weight: 700; color: #fff; letter-spacing: 0.1em; }
  .pw-sub { font-family: 'Cormorant Garamond', serif; font-style: italic; font-size: 0.7rem; color: rgba(192,154,80,0.5); letter-spacing: 0.22em; margin-top: 6px; }

  .pw-body { padding: 22px 22px 24px; }
  .pw-label { font-size: 0.6rem; letter-spacing: 0.2em; text-transform: uppercase; color: rgba(192,154,80,0.55); display: block; margin-bottom: 8px; }
  .pw-field { position: relative; margin-bottom: 6px; }
  #pw-input {
    width: 100%; height: 46px;
    background: rgba(255,255,255,0.04); border: 1px solid rgba(192,154,80,0.2);
    border-radius: 11px; color: #fff;
    font-family: 'DM Sans', sans-serif; font-size: 1rem; letter-spacing: 0.18em;
    padding: 0 46px 0 14px; outline: none;
    transition: border-color 0.18s, box-shadow 0.18s;
  }
  #pw-input:focus { border-color: var(--gold); box-shadow: 0 0 0 3px rgba(192,154,80,0.18); }
  #pw-input::placeholder { color: rgba(255,255,255,0.18); letter-spacing: 0.06em; }
  .pw-eye-btn {
    position: absolute; right: 12px; top: 50%; transform: translateY(-50%);
    background: none; border: none; cursor: pointer;
    color: rgba(192,154,80,0.4); font-size: 0.9rem; padding: 4px; line-height: 1;
    transition: color 0.15s;
  }
  .pw-eye-btn:hover { color: var(--gold); }
  .pw-err { font-size: 0.72rem; color: #E07070; min-height: 20px; margin-bottom: 10px; letter-spacing: 0.02em; }
  .pw-submit {
    width: 100%; height: 46px;
    background: linear-gradient(135deg, var(--green) 0%, var(--green-lt) 100%);
    border: none; border-radius: 11px; color: #fff;
    font-family: 'Shippori Mincho', serif; font-size: 1rem; font-weight: 600; letter-spacing: 0.14em;
    cursor: pointer; box-shadow: 0 3px 12px rgba(14,31,23,0.45);
    transition: opacity 0.15s, transform 0.1s;
  }
  .pw-submit:hover { opacity: 0.88; }
  .pw-submit:active { transform: scale(0.97); }
  .pw-cancel { display: block; width: 100%; margin-top: 10px; background: none; border: none; color: rgba(255,255,255,0.27); font-family: 'DM Sans', sans-serif; font-size: 0.75rem; letter-spacing: 0.04em; cursor: pointer; padding: 4px; transition: color 0.15s; text-align: center; }
  .pw-cancel:hover { color: rgba(255,255,255,0.6); }
  </style>
</head>
<body>
<div id="shell">

  <!-- â”€â”€â”€ Header â”€â”€â”€ -->
  <header id="app-header">
    <div class="header-inner">
      <button class="hamburger" id="hamburger" onclick="toggleSidebar()">
        <span></span><span></span><span></span>
      </button>
      <div class="header-title" onclick="navigate('main.html',null)">ç¤¾å†…ãƒãƒ¼ã‚¿ãƒ«</div>
      <img class="header-logo" src="https://www.sgc-gold.co.jp/img/header-logo.png" alt="SGC">
    </div>
  </header>

  <!-- â”€â”€â”€ Sidebar â”€â”€â”€ -->
  <nav id="sidebar">
    <div class="sidebar-scroll">

      <div class="nav-section-title">Home</div>
      <a class="nav-link active" onclick="navigate('main.html',this)">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
        ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸
      </a>

      <div class="nav-section-title">Market Â· è²´é‡‘å±å¸‚æ³</div>
      <a class="nav-link" onclick="navigate('price.html',this)">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>
        ç”°ä¸­è²´é‡‘å±ä¾¡æ ¼æƒ…å ±
      </a>
      <a class="nav-link" onclick="navigate('sgcprice.html',this)">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M12 2L2 9l10 13 10-13-10-7z"/><line x1="12" y1="9" x2="12" y2="15"/><line x1="9" y1="12" x2="15" y2="12"/></svg>
        SGCè²·å–ä¾¡æ ¼æƒ…å ±
      </a>
      <a class="nav-link" onclick="navigate('market.html',this)">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><rect x="2" y="3" width="20" height="14" rx="2"/><path d="M8 21h8M12 17v4"/></svg>
        å¸‚æ³æƒ…å ±
      </a>

      <div class="nav-section-title">Purchase Â· è²·å–é–¢é€£</div>
      <a class="nav-link" onclick="navigate('https://script.google.com/macros/s/AKfycbxV4bMjhApWrwqTBLsuu0BnSQ5L8TyaV40_qCOO_RFjT3-WHvosgeesx_LxWZAO4MFr/exec',this)">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/></svg>
        IGã‚·ãƒªã‚¢ãƒ«ç…§åˆ
      </a>
      <a class="nav-link" onclick="navigate('coin.html',this)">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg>
        è¨˜å¿µé‡‘è²¨è²·å–ä¾¡æ ¼
      </a>
      <a class="nav-link" onclick="navigate('https://script.google.com/macros/s/AKfycbxeQHB5lwwoTw0f-cgXh657fuaNiHL-LMbo5AfUOm9pDyftHNaF7OPi5hfMOrKNPhKYyQ/exec',this)">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="9" y1="15" x2="15" y2="15"/></svg>
        è²·å– / åˆ†å‰²ç¢ºèª
      </a>
      <a class="nav-link" onclick="navigate('diamond.html',this)">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M12 2L2 9l10 13 10-13-10-7z"/><path d="M2 9h20"/></svg>
        ãƒ€ã‚¤ãƒ¤ç›¸å ´æ¤œç´¢
      </a>
      <a class="nav-link" onclick="navigate('gemstone.html',this)">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><circle cx="12" cy="12" r="3"/><path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/></svg>
        è‰²çŸ³é‡é‡æ¤œç´¢
      </a>

      <div class="nav-section-title">Sales Â· è²©å£²é–¢é€£</div>
      <a class="nav-link disabled">æº–å‚™ä¸­</a>

      <div class="nav-section-title">Reference Â· ç¤¾å†…è³‡æ–™</div>
      <a class="nav-link" onclick="navigate('schedule.html',this)">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
        ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«
      </a>
      <a class="nav-link" onclick="navigate('contacts.html',this)">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>
        æ‹ ç‚¹ä¸€è¦§
      </a>

      <div class="nav-section-title">Media Â· ãƒ¡ãƒ‡ã‚£ã‚¢</div>
      <a class="nav-link" onclick="navigate('news.html',this)">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 0-2 2zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2"/><path d="M18 14h-8M15 18h-5M10 6h8v4h-8z"/></svg>
        ãƒ‹ãƒ¥ãƒ¼ã‚¹
      </a>
      <a class="nav-link" onclick="navigate('youtube.html',this)">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M22.54 6.42a2.78 2.78 0 0 0-1.95-1.96C18.88 4 12 4 12 4s-6.88 0-8.59.46a2.78 2.78 0 0 0-1.95 1.96A29 29 0 0 0 1 12a29 29 0 0 0 .46 5.58A2.78 2.78 0 0 0 3.41 19.54C5.12 20 12 20 12 20s6.88 0 8.59-.46a2.78 2.78 0 0 0 1.95-1.96A29 29 0 0 0 23 12a29 29 0 0 0-.46-5.58z"/><polygon points="9.75 15.02 15.5 12 9.75 8.98 9.75 15.02"/></svg>
        YouTube
      </a>

      <!-- â˜… éŠ€åº§åº—ç”¨ â”€â”€ æœ€ä¸‹éƒ¨ â˜… -->
      <div class="nav-section-title">Ginza Â· éŠ€åº§åº—</div>
      <a class="nav-link ginza" id="ginza-link" onclick="ginzaClick(this)">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8">
          <rect x="3" y="11" width="18" height="11" rx="2"/>
          <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
        </svg>
        éŠ€åº§åº—ç”¨
        <span class="ginza-badge" id="ginza-badge">ğŸ”’ é™å®š</span>
      </a>

    </div>
    <div class="sidebar-footer">Â© SGC Co., Ltd. All Rights Reserved.</div>
  </nav>

  <!-- â”€â”€â”€ Content â”€â”€â”€ -->
  <div id="content-area">
    <iframe id="main-frame" src="main.html" scrolling="yes" allowtransparency="true"></iframe>
  </div>

  <!-- â”€â”€â”€ Bottom nav (mobile only) â”€â”€â”€ -->
  <nav id="bottom-nav">
    <a class="bnav-item active" onclick="navigate('main.html',this)" data-bnav>
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
      <span>ãƒ›ãƒ¼ãƒ </span>
    </a>
    <a class="bnav-item" onclick="navigate('price.html',this)" data-bnav>
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>
      <span>ä¾¡æ ¼</span>
    </a>
    <a class="bnav-item" onclick="navigate('coin.html',this)" data-bnav>
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg>
      <span>é‡‘è²¨</span>
    </a>
    <a class="bnav-item" onclick="navigate('market.html',this)" data-bnav>
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><rect x="2" y="3" width="20" height="14" rx="2"/><path d="M8 21h8M12 17v4"/></svg>
      <span>å¸‚æ³</span>
    </a>
    <button class="bnav-item" onclick="toggleSidebar()">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
      <span>ãƒ¡ãƒ‹ãƒ¥ãƒ¼</span>
    </button>
  </nav>

</div><!-- /shell -->

<div id="overlay" onclick="closeSidebar()"></div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒ¢ãƒ¼ãƒ€ãƒ«
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="pw-backdrop">
  <div id="pw-modal" role="dialog" aria-modal="true" aria-label="éŠ€åº§åº—å°‚ç”¨ãƒ­ã‚°ã‚¤ãƒ³">
    <div class="pw-top">
      <div class="pw-icon">ğŸ¬</div>
      <div class="pw-title">éŠ€åº§åº—å°‚ç”¨ãƒšãƒ¼ã‚¸</div>
      <div class="pw-sub">GINZA STORE Â· STAFF ONLY</div>
    </div>
    <div class="pw-body">
      <label class="pw-label" for="pw-input">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰</label>
      <div class="pw-field">
        <input type="password" id="pw-input" placeholder="Password" autocomplete="current-password">
        <button class="pw-eye-btn" id="pw-eye" type="button" onclick="toggleEye()" aria-label="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰è¡¨ç¤ºåˆ‡æ›¿">ğŸ‘</button>
      </div>
      <div class="pw-err" id="pw-err"></div>
      <button class="pw-submit" onclick="submitPw()">ãƒ­ã‚°ã‚¤ãƒ³</button>
      <button class="pw-cancel" onclick="closePw()">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
    </div>
  </div>
</div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  â˜… ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰è¨­å®š â˜…
//  ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã§ãã‚‹ç®¡ç†è€…ã ã‘ãŒå¤‰æ›´å¯èƒ½ã§ã™ã€‚
//  GitHubãƒªãƒã‚¸ãƒˆãƒªã‚’éå…¬é–‹ã«ã—ã¦ãŠã„ã¦ãã ã•ã„ã€‚
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var GINZA_PW     = 'melmelsa';     // â† ã“ã“ã‚’ä»»æ„ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã«å¤‰æ›´
var STORAGE_KEY  = 'sgc_ginza_ok';  // localStorageã®ã‚­ãƒ¼

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  HEIGHT FIX
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function getVH() {
  return window.visualViewport ? window.visualViewport.height : window.innerHeight;
}
function setHeight() {
  var h = getVH();
  document.getElementById('shell').style.height = h + 'px';
  sizeFrame();
}
function sizeFrame() {
  var frame   = document.getElementById('main-frame');
  var content = document.getElementById('content-area');
  if (!frame || !content) return;
  var rect = content.getBoundingClientRect();
  if (rect.height > 0) frame.style.height = rect.height + 'px';
}
setHeight();
if (window.visualViewport) {
  window.visualViewport.addEventListener('resize', setHeight);
  window.visualViewport.addEventListener('scroll', setHeight);
} else {
  window.addEventListener('resize', setHeight);
}
window.addEventListener('orientationchange', function() {
  setTimeout(setHeight, 100); setTimeout(setHeight, 350); setTimeout(setHeight, 700);
});
window.addEventListener('load', function() { setHeight(); setTimeout(setHeight, 300); });

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  NAVIGATION
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
var frame = document.getElementById('main-frame');
function navigate(url, el) {
  if (!url || url === '#') return;
  frame.src = url;
  document.querySelectorAll('#sidebar .nav-link').forEach(function(l) { l.classList.remove('active'); });
  if (el && el.closest && el.closest('#sidebar')) el.classList.add('active');
  document.querySelectorAll('[data-bnav]').forEach(function(l) { l.classList.remove('active'); });
  if (el && el.hasAttribute && el.hasAttribute('data-bnav')) el.classList.add('active');
  if (window.innerWidth < 900) closeSidebar();
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  SIDEBAR
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
var sidebar   = document.getElementById('sidebar');
var overlay   = document.getElementById('overlay');
var hamburger = document.getElementById('hamburger');
function toggleSidebar() {
  var isOpen = sidebar.classList.toggle('open');
  hamburger.classList.toggle('open', isOpen);
  overlay.classList.toggle('active', isOpen);
}
function closeSidebar() {
  sidebar.classList.remove('open');
  hamburger.classList.remove('open');
  overlay.classList.remove('active');
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  GINZA AUTH
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function isAuthed() {
  return localStorage.getItem(STORAGE_KEY) === '1';
}

// ãƒãƒƒã‚¸è¡¨ç¤ºã‚’èªè¨¼çŠ¶æ…‹ã«åˆã‚ã›ã¦æ›´æ–°
function refreshBadge() {
  var badge = document.getElementById('ginza-badge');
  var link  = document.getElementById('ginza-link');
  if (isAuthed()) {
    badge.textContent = 'éŠ€åº§åº—';
    badge.style.background = 'rgba(192,154,80,0.28)';
    // ã‚¢ã‚¤ã‚³ãƒ³ã‚’éŒ å‰â†’å»ºç‰©ã«åˆ‡ã‚Šæ›¿ãˆ
    link.querySelector('svg').innerHTML =
      '<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/>';
  } else {
    badge.textContent = 'ğŸ”’ é™å®š';
    badge.style.background = '';
  }
}
refreshBadge();

// éŠ€åº§åº—ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯
function ginzaClick(el) {
  if (isAuthed()) {
    document.querySelectorAll('#sidebar .nav-link').forEach(function(l) { l.classList.remove('active'); });
    el.classList.add('active');
    frame.src = 'https://script.google.com/macros/s/AKfycbyf2YPwoPW7dM6OMrK9OyxCJkGXeAa883HcQe6Atz982MHyqF8iobXqGSGFjULebLRp/exec';
    if (window.innerWidth < 900) closeSidebar();
  } else {
    openPw();
  }
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  PASSWORD MODAL
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
var backdrop = document.getElementById('pw-backdrop');

function openPw() {
  document.getElementById('pw-input').value = '';
  document.getElementById('pw-err').textContent = '';
  backdrop.classList.add('show');
  setTimeout(function() { document.getElementById('pw-input').focus(); }, 160);
}
function closePw() {
  backdrop.classList.remove('show');
}
function toggleEye() {
  var inp = document.getElementById('pw-input');
  var eye = document.getElementById('pw-eye');
  if (inp.type === 'password') { inp.type = 'text';     eye.textContent = 'ğŸ™ˆ'; }
  else                          { inp.type = 'password'; eye.textContent = 'ğŸ‘'; }
}
function submitPw() {
  var val = document.getElementById('pw-input').value;
  var err = document.getElementById('pw-err');
  if (val === GINZA_PW) {
    localStorage.setItem(STORAGE_KEY, '1');
    refreshBadge();
    closePw();
    // èªè¨¼å¾Œã™ãéŠ€åº§ãƒšãƒ¼ã‚¸ã¸
    var link = document.getElementById('ginza-link');
    document.querySelectorAll('#sidebar .nav-link').forEach(function(l) { l.classList.remove('active'); });
    link.classList.add('active');
    frame.src = 'https://script.google.com/macros/s/AKfycbyf2YPwoPW7dM6OMrK9OyxCJkGXeAa883HcQe6Atz982MHyqF8iobXqGSGFjULebLRp/exec';
    if (window.innerWidth < 900) closeSidebar();
  } else {
    err.textContent = 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚';
    document.getElementById('pw-input').value = '';
    document.getElementById('pw-input').focus();
    // æºã‚‰ã™ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
    var modal = document.getElementById('pw-modal');
    modal.style.animation = 'none';
    void modal.offsetWidth; // reflow
    modal.style.animation = 'shake 0.38s ease';
  }
}

// Enterã‚­ãƒ¼å¯¾å¿œ
document.getElementById('pw-input').addEventListener('keydown', function(e) {
  if (e.key === 'Enter')  submitPw();
  if (e.key === 'Escape') closePw();
});
// èƒŒæ™¯ã‚¯ãƒªãƒƒã‚¯ã§é–‰ã˜ã‚‹
backdrop.addEventListener('click', function(e) {
  if (e.target === backdrop) closePw();
});

window.addEventListener('message', function() {});
</script>
</body>
</html>
