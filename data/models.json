{
  "models": [
    {
      "id": "ellipsoid",
      "name": "Ellipsoid (general / ellipsoid approximation)",
      "description": "L, W, D を用いる楕円体近似。V = π L W D / 6",
      "formula_text": "V = π * L * W * D / 6",
      "formula_js": "(L, W, D) => Math.PI * L * W * D / 6.0"
    },
    {
      "id": "round",
      "name": "Round (rotational ellipsoid)",
      "description": "直径 d と全高 D を用いる回転楕円体近似。V = π d^2 D / 6",
      "formula_text": "V = π * d^2 * D / 6",
      "formula_js": "(d, D) => Math.PI * d * d * D / 6.0"
    },
    {
      "id": "prism_box",
      "name": "Prism / Box (rectangular prism)",
      "description": "L x W x D の直方体近似（角の面取りは補正_factorで調整）",
      "formula_text": "V = L * W * D",
      "formula_js": "(L, W, D) => L * W * D"
    },
    {
      "id": "prism_box_square",
      "name": "Prism / Square (Princess/Square)",
      "description": "正方形底面 + 高さの直方体。a x a x D",
      "formula_text": "V = a * a * D",
      "formula_js": "(a, D) => a * a * D"
    },
    {
      "id": "cabochon",
      "name": "Cabochon (spherical cap)",
      "description": "底面直径 d とドーム高さ h から母球半径 r を求め球冠体積で近似",
      "formula_text": "a=d/2, r=(a^2 + h^2)/(2h), V = π h^2 ( r - h/3 )",
      "formula_js": "(d, h) => { const a = d / 2; const r = (a * a + h * h) / (2 * h); return Math.PI * h * h * (r - h / 3.0); }"
    },
    {
      "id": "bicone",
      "name": "Bicone / Briolette",
      "description": "中心で最も太い回転二錐（両端が尖る形）で近似。r:最大半径, h_half:中心→尖端までの高さ",
      "formula_text": "V = 2/3 * π * r^2 * h_half",
      "formula_js": "(r, h_half) => (2.0 / 3.0) * Math.PI * r * r * h_half"
    },
    {
      "id": "trilliant",
      "name": "Trilliant (triangular prism/pyramid simplification)",
      "description": "底面積 A と高さ D を用いる簡易モデル。実務入力は底面積(A)を算出して使うか、edge→A変換を行う",
      "formula_text": "V = (1/3) * A * D",
      "formula_js": "(A, D) => (1.0 / 3.0) * A * D"
    },
    {
      "id": "pear",
      "name": "Pear composite (ellipsoid top + cone bottom)",
      "description": "上部を楕円体（L,W,topH）、下部を円錐で近似する合成モデル。分割比 split_ratio を用いる",
      "formula_text": "split_ratioによる分割: topH = D*split_ratio, topV = π L W topH / 6, botV = 1/3 π (W/2)^2 (D - topH), V = topV + botV",
      "formula_js": "(L, W, D, split_ratio = 0.6) => { const topH = D * split_ratio; const botH = D - topH; const topV = Math.PI * L * W * topH / 6.0; const botV = (1.0 / 3.0) * Math.PI * (W / 2.0) * (W / 2.0) * botH; return topV + botV; }"
    },
    { 
      "id": "pearl_round",
      "name": "Pearl Round (sphere)", 
      "description": "球体近似: 直径 d のみで計算", 
      "formula_text": "V = 4/3 * π * (d/2)^3", 
      "formula_js": "(d) => (4.0/3.0) * Math.PI * Math.pow(d/2, 3)"
    },
    {
      "id": "pearl_mabe", 
      "name": "Mabe Pearl (hemisphere/ellipsoid cap)", 
      "description": "半球近似: 縦 L、横 W、高さ h で計算", 
      "formula_text": "V = 2/3 * π * (L/2) * (W/2) * h", 
      "formula_js": "(L, W, h) => (2.0/3.0) * Math.PI * (L/2) * (W/2) * h"
    }
  ]
}
